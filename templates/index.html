{% extends "base.html" %}

{% block title %}Início - Sistema de Controle de Demandas{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="jumbotron bg-primary text-white p-5 rounded">
            <h1 class="display-4">Sistema de Controle de Demandas</h1>
            <p class="lead">Gerencie demandas, cotações, pedidos e acompanhe métricas financeiras de forma eficiente.</p>
            <hr class="my-4">
            <p>Controle completo do processo de compras, desde a solicitação até o recebimento dos itens.</p>
            <div class="row mt-4">
                {% if session.user_id %}
                <!-- Botões para usuários logados -->
                <div class="col-md-3">
                    <a class="btn btn-light btn-lg w-100" href="{{ url_for('nova_demanda') }}">
                        <i class="fas fa-plus fa-2x d-block mb-2"></i>
                        Nova Demanda
                    </a>
                </div>
                <div class="col-md-3">
                    <a class="btn btn-light btn-lg w-100" href="{{ url_for('listar_demandas') }}">
                        <i class="fas fa-list fa-2x d-block mb-2"></i>
                        Ver Demandas
                    </a>
                </div>
                <div class="col-md-3">
                    {% if session.is_admin %}
                    <a class="btn btn-light btn-lg w-100" href="{{ url_for('listar_pedidos') }}">
                        <i class="fas fa-shopping-cart fa-2x d-block mb-2"></i>
                        Pedidos
                    </a>
                    {% else %}
                    <a class="btn btn-outline-light btn-lg w-100" href="#" title="Acesso restrito a administradores">
                        <i class="fas fa-shopping-cart fa-2x d-block mb-2"></i>
                        Pedidos
                    </a>
                    {% endif %}
                </div>
                <div class="col-md-3">
                    <a class="btn btn-light btn-lg w-100" href="{{ url_for('metricas') }}">
                        <i class="fas fa-chart-line fa-2x d-block mb-2"></i>
                        Métricas
                    </a>
                </div>
                {% else %}
                <!-- Botões para usuários não logados -->
                <div class="col-md-6 mx-auto">
                    <a class="btn btn-light btn-lg w-100 mb-3" href="{{ url_for('login') }}">
                        <i class="fas fa-sign-in-alt fa-2x d-block mb-2"></i>
                        Fazer Login
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-info-circle"></i> Como Funciona</h5>
            </div>
            <div class="card-body">
                <ol>
                    <li><strong>Criar Demanda:</strong> Usuário solicita um item com descrição, quantidade e justificativa</li>
                    <li><strong>Em Cotação:</strong> Demanda é enviada para cotação com fornecedores</li>
                    <li><strong>PR Criada:</strong> Purchase Request é criada no sistema</li>
                    <li><strong>PO Emitido:</strong> Purchase Order é emitida e pedido é feito</li>
                    <li><strong>Recebimento:</strong> Item é recebido e valor confirmado</li>
                </ol>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-file-pdf"></i> Documentos</h5>
            </div>
            <div class="card-body">
                <p>O sistema permite anexar documentos PDF em cada etapa:</p>
                <ul>
                    <li><strong>Cotação:</strong> PDFs com propostas de fornecedores</li>
                    <li><strong>PO:</strong> Purchase Orders emitidas</li>
                    <li><strong>Nota Fiscal:</strong> Documentos fiscais do recebimento</li>
                </ul>
                <p class="text-muted">Todos os documentos ficam organizados por demanda para fácil consulta.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
